# Phase I Specification: Todo Console Application

**Phase:** I - In-Memory Todo Console Application
**Created:** 2026-01-01
**Features:** 6

---

## Overview

This document consolidates all Phase I feature specifications for the Todo Console Application. Each feature is designed for spec-driven development using Claude Code, following the principles defined in `Constitution.md`.

---

## Feature List

| # | Feature | Spec File | Status |
|---|---------|-----------|--------|
| 001 | Add Task | `001_add_task/add_task_spec.md` | Ready for /sp.tasks |
| 002 | View Tasks | `002_view_tasks/view_tasks_spec.md` | Ready for /sp.tasks |
| 003 | Update Task | `003_update_task/update_task_spec.md` | Ready for /sp.tasks |
| 004 | Delete Task | `004_delete_task/delete_task_spec.md` | Ready for /sp.tasks |
| 005 | Mark Complete | `005_mark_complete/mark_complete_spec.md` | Ready for /sp.tasks |
| 006 | Exit App | `006_exit_app/exit_app_spec.md` | Ready for /sp.tasks |

---

## Shared Data Model

### Task Entity

```python
class Task:
    id: int          # Unique auto-incrementing identifier
    title: str       # Required, 1-100 characters
    description: str # Optional, max 500 characters
    completed: bool  # Default: False
```

### TaskManager Service

```python
class TaskManager:
    create_task(title: str, description: str | None = None) -> Task
    get_all_tasks() -> list[Task]
    get_task_by_id(id: int) -> Task | None
    update_task(id: int, title: str | None, description: str | None) -> Task
    delete_task(id: int) -> None
    mark_complete(id: int) -> Task
```

---

## Shared Dependencies

- **Python:** 3.13+
- **Rich:** Styled output, tables, status indicators
- **Questionary:** Interactive prompts, menu selection
- **Storage:** In-memory (Python list)

---

## Architecture Summary

```
src/
├── models/
│   └── task.py           # Task entity
├── services/
│   └── task_manager.py   # Business logic
├── ui/
│   └── cli_controller.py # CLI interactions
└── main.py              # Entry point
```

---

## CLI Menu Structure

1. Add Task
2. View Tasks
3. Update Task
4. Delete Task
5. Mark Task as Complete
6. Exit

---

## Non-Negotiable Rules (Per Constitution)

- All code generated by Claude Code only
- Manual edits strictly forbidden
- Object-oriented design required
- Rich/Questionary for all UI
- Spec-first workflow mandatory

---

## Feature Specifications

### 001 Add Task

Create tasks with title (required) and description (optional). Auto-assign unique ID, store in-memory, mark as incomplete by default.

**Key Requirements:**
- Unique auto-increment ID
- Title validation (non-empty, non-whitespace)
- Rich success feedback
- Re-prompt on invalid input

**Spec:** `001_add_task/add_task_spec.md`
**Plan:** `001_add_task/plan.md`

---

### 002 View Tasks

Display all tasks in a Rich table with visual status indicators.

**Key Requirements:**
- Rich table display
- Completed: green ✅
- Pending: yellow ⏳
- Empty state message

**Spec:** `002_view_tasks/view_tasks_spec.md`
**Plan:** `002_view_tasks/plan.md`

---

### 003 Update Task

Modify task title and/or description by ID.

**Key Requirements:**
- Select by ID
- Optional title/description updates
- Empty input preserves existing value
- Rich confirmation

**Spec:** `003_update_task/update_task_spec.md`
**Plan:** `003_update_task/plan.md`

---

### 004 Delete Task

Permanently remove a task by ID with confirmation.

**Key Requirements:**
- Select by ID
- Questionary confirm() prompt
- Rich success/cancellation messages
- Safe handling of invalid IDs

**Spec:** `004_delete_task/delete_task_spec.md`
**Plan:** `004_delete_task/plan.md`

---

### 005 Mark Complete

Toggle task status from pending to completed.

**Key Requirements:**
- Select by ID
- Validate not already complete
- Rich success with ✅ icon
- Warning for already-complete tasks

**Spec:** `005_mark_complete/mark_complete_spec.md`
**Plan:** `005_mark_complete/plan.md`

---

### 006 Exit Application

Gracefully terminate the application.

**Key Requirements:**
- Exit menu option
- Goodbye message via Rich
- Clean sys.exit(0)

**Spec:** `006_exit_app/exit_app_spec.md`
**Plan:** `006_exit_app/plan.md`

---

## Implementation Order

Recommended sequence for implementation:

1. **Foundation:** Task model, TaskManager, CLIController base
2. **Add Task:** First feature to enable testing
3. **View Tasks:** Verify Task creation
4. **Mark Complete:** Status toggle
5. **Update Task:** Modify existing
6. **Delete Task:** Removal with confirmation
7. **Exit App:** Graceful termination

---

**Consolidated Spec:** 2026-01-01
**Next:** Run `/sp.tasks` on individual features for implementation breakdown
