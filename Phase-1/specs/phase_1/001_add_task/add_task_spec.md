# Add Task Specification

## Phase I — In-Memory Todo Console Application

---

## Feature Overview

This specification defines the **Add Task** feature for the Phase I CLI-based Todo application. The feature allows a user to create a new todo task through an interactive command-line interface.

---

## User Intent

As a user,
I want to add a new task with a title and optional description,
so that I can keep track of things I need to do.

---

## Functional Requirements

- The system must allow the user to create a new task.
- Each task must be assigned a **unique numeric ID**.
- Tasks must be stored **in memory only**.
- A newly created task must be marked as **incomplete by default**.
- The task must be immediately available for viewing after creation.

---

## CLI Interaction Flow

### Menu Interaction

- The user selects **"Add Task"** from the main menu using **Questionary**.

### User Prompts

The system must prompt the user for:

1. **Task Title**
   - Required field
   - Collected using Questionary text input

2. **Task Description**
   - Optional field
   - Collected using Questionary text input

### Visual Feedback

- **Rich** must be used to:
  - Display a success message when the task is created
  - Highlight errors using color and formatting
  - Confirm task details after creation

---

## Data Model Expectations

The feature must use an object-oriented design.

### Task Entity (Conceptual)

A Task must contain:
- `id` — unique integer identifier
- `title` — string (required)
- `description` — string (optional)
- `completed` — boolean (default: false)

### Task Management

- Task creation logic must be handled by a dedicated manager or service class.
- The CLI layer must not directly manage task storage.

---

## Validation Rules

- Task title **must not be empty**.
- If the title is empty:
  - Display an error message using Rich
  - Re-prompt the user for valid input
- Duplicate task titles are allowed.
- Whitespace-only input must be treated as invalid.

---

## Error Handling Behavior

- The application must never crash due to invalid input.
- Errors must be:
  - Clearly explained
  - User-friendly
  - Styled using Rich
- After an error, the user must be returned to the Add Task flow or main menu safely.

---

## Acceptance Criteria

This feature is considered complete when:

- [ ] User can select "Add Task" from the menu
- [ ] User can enter a task title and description
- [ ] A unique ID is assigned automatically
- [ ] Task is stored in memory
- [ ] Task is marked as incomplete by default
- [ ] Success message is displayed using Rich
- [ ] Invalid input does not crash the application

---

## Non-Functional Requirements

- All code must be generated by **Claude Code only**
- Manual code edits are strictly forbidden
- Code must follow object-oriented principles
- The implementation must comply with `Constitution.md`
- The feature must integrate cleanly with existing CLI architecture

---

## Out of Scope (Phase I)

The following are intentionally excluded:
- File-based persistence
- Databases
- Due dates or reminders
- AI or natural language input

---

## Dependencies

- Python 3.13+
- `rich`
- `questionary`
- In-memory task storage initialized during application runtime

---

## Notes for Claude Code

- Treat this specification as the **single source of truth**
- Follow all architectural and UX constraints defined in `Constitution.md`
- Generate clean, modular, senior-level Python code
- Do not introduce features beyond this specification
